
<!DOCTYPE html>
<html lang="zh-CN" theme="dark">
<head>
    
    

<meta charset="UTF-8">
<title>JavaScripté—­åŒ… | aloeJun | Lu's blog</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="/media/detail/aloeJun.png" rel="shortcut icon">
<meta name="mobile-web-app-capable" content="yes">
<meta name="renderer" content="webkit|ie-stand|ie-comp">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="aloeJun">
<meta name="copyright" content="aloeJun">
<meta name="keywords" content="JavaScript,é—­åŒ…,JavaScripté—­åŒ…">
<meta name="description" content="é—­åŒ…ä»€ä¹ˆæ˜¯é—­åŒ…å…ˆæ¥è¯´ä¸‹æ¦‚å¿µï¼šä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆlexical environmentï¼Œè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ï¼ˆclosureï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸã€‚åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ã€‚è¯æ³•ä½œç”¨åŸŸè¯´åˆ°é—­åŒ…ï¼Œå¿…é¡»è¦è¯´ä¸‹ä½œç”¨åŸŸï¼Œçœ‹ä¸‹é¢ä»£ç  ğŸ‘‡ï¼šfunction init() &amp;#"/>
<meta property="site_name" content="aloeJun | Lu&#39;s blog "/>
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.islu.cn/posts/JavaScriptClosure.html">
<meta property="og:title" content="JavaScripté—­åŒ… | aloeJun | Lu&#39;s blog"/>
<meta property="og:site_name" content="aloeJun | Lu&#39;s blog"/>
<meta property="og:description" content="é—­åŒ…ä»€ä¹ˆæ˜¯é—­åŒ…å…ˆæ¥è¯´ä¸‹æ¦‚å¿µï¼šä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆlexical environmentï¼Œè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ï¼ˆclosureï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸã€‚åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ã€‚è¯æ³•ä½œç”¨åŸŸè¯´åˆ°é—­åŒ…ï¼Œå¿…é¡»è¦è¯´ä¸‹ä½œç”¨åŸŸï¼Œçœ‹ä¸‹é¢ä»£ç  ğŸ‘‡ï¼šfunction init() &amp;#"/>
<meta property="og:locale" content="zh-CN">
<meta property="article:author" content="aloeJun ">

<style>html{scroll-behavior:smooth;overflow-y:overlay}html *{margin:0}html .clearfix{zoom:1}html .clearfix:after{content:"";display:block;height:0;clear:both;visibility:hidden}html .center{text-align:center!important}html .relative{position:relative}html .absolute{position:absolute}html .hotpink{color:#ff69b4}html .right{float:right}html .left{float:left}html .hidden{display:none}html .cursor{cursor:pointer}html .filter{filter:var(--filter)}html ul li{list-style:none}html table{width:100%;display:table;border-collapse:collapse;border-spacing:0}html table td,html table th{padding:15px 5px;display:table-cell;text-align:left;vertical-align:middle;border-radius:2px;border:1px solid var(--love_color)}body{margin:0;background-color:var(--body_bg);font-size:14px;color:var(--text_color);font-family:æ¥·ä½“}body #resource{position:relative;top:0;left:0}body video{max-width:100%}body a{text-decoration:none;color:#0a84ff;transition:all .5s}body p{margin:revert}body .mask{width:100%;height:100%;position:fixed;top:0;z-index:102;background:rgba(0,0,0,.4)}body .pjax_progress{position:fixed;top:0;left:0;width:10%;height:2px;z-index:103;background-image:-webkit-linear-gradient(left,#f16f5c 0,#f16f5c 12.5%,#5b56dd 12.5%,#5b56dd 25%,#e15ced 25%,#e15ced 37.5%,#27e559 37.5%,#27e559 50%,#18c8c9 50%,#18c8c9 62.5%,#dc8987 62.5%,#dc8987 75%,#bb83d6 75%,#bb83d6 87.5%,#e774bd 87.5%,#e774bd 100%);transition:width .4s ease 0s}body .clipboard{right:16px;top:8px;cursor:pointer;border-radius:3px;color:#eff;position:relative;float:right;padding:2px}body ::-webkit-input-placeholder{color:#ff69b4}body ::-moz-placeholder{color:#ff69b4}body :-ms-input-placeholder{color:#ff69b4}body :-moz-placeholder{color:#ff69b4}body .gray-filter{filter:grayscale(100%);-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%)}#body-wrap{width:100%;position:relative}#body-wrap #main-wrap{min-height:24rem}#body-wrap .container{width:90%;max-width:1200px;margin:0 auto}#body-wrap .main-card{background-color:var(--main_bg);border:1px solid #e2dfdd;border-radius:10px}.post_content h2::after{float:right;margin-right:10px;display:inline-block;content:'\f0c1';color:grey;font-family:'Font Awesome 6 Pro'}kbd{padding:2px 4px;font-size:90%;color:#fff;background-color:#666;border-radius:3px;box-shadow:inset 0 -1px 0 #000}code{padding:.1rem .2rem;background:rgba(27,31,35,.05);color:#f47466;border-radius:3px;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word}blockquote{margin:4px 0;padding:.6rem .8rem;border-left:.2rem solid #e58a8a;background-color:rgba(73,177,245,.1);color:var(--blockquote_color)}blockquote p{margin:0}.pullquote.left{max-width:45%;float:left;margin:.5em .5em 0 0}.pullquote.right{max-width:45%;float:right;margin:.5em 0 0 .5em;border-right:.2rem solid #e58a8a;border-left:none}.video-container{position:relative;overflow:hidden;margin-bottom:.8rem;padding-top:56.25%;height:0}.video-container iframe{position:absolute;top:0;left:0;margin-top:0;width:100%;height:100%}h1{margin:48px 0 22px -5px;font-size:2rem;font-weight:700;line-height:2rem}h2{margin:42px 0 18px -5px;font-size:1.8rem;font-weight:700;line-height:1.8rem}h3{margin:38px 0 15px -4px;font-size:1.6rem;font-weight:700;line-height:1.7rem}h4{margin:32px 0 12px -4px;font-size:1.45rem;font-weight:700;line-height:1.45rem}h5{margin:28px 0 8px -4px;font-size:1.2rem;font-weight:700;line-height:1.2rem}h6{margin:22px 0 4px -4px;font-size:1.1rem;line-height:1.1rem}p{font-size:1rem;line-height:1.5rem}hr{margin:20px 0;border:0;border-top:1px solid #ccc}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-thumb{background-color:grey;border-radius:8px;cursor:pointer}::-webkit-scrollbar-thumb:hover{opacity:1;display:block!important}::-webkit-scrollbar-track{background-color:transparent}:root{--main:#c7a17a;--body_bg:#f7f9fe;--text_color:#333;--main_bg:#fff;--post_title:rgba(52,50,50,0.7);--link_bg:#f8f9fa;--code_bg:$highlight-background;--code_wrap_bg:$code_block;--blockquote_color:#6a737d;--table_bg:none;--love_color:#3c4858;--filter:none}html[theme=dark]{--body_bg:#161b2a;--text_color:rgba(255,255,255,0.6);--main_bg:#070615;--post_title:rgba(255,255,255,0.9);--link_bg:#333841;--code_bg:#333841;--code_wrap_bg:#444851;--blockquote_color:rgba(255,255,255,0.6);--table_bg:#282c34;--love_color:#faebd7;--filter:invert(1)}nav .navbar{display:flex;justify-content:space-between;align-items:center;height:5rem;padding:0 30px;margin:0 10%}nav .navbar .open_nav{margin-left:10px;display:none}nav .navbar .blog_name{font-weight:700;font-size:1.8rem;color:#ff7242;display:inline-block;text-decoration:none;margin-left:4rem;min-width:7.2rem}nav ul.side-toolbar{min-width:5.6rem;color:var(--post_title)}nav ul.side-toolbar li{display:inline-block;width:2em;font-size:1.5rem;cursor:pointer}nav ul.side-toolbar li:hover{color:#0a84ff}nav ul.side-toolbar i{font-size:1.5rem}nav #navbar_wrap{padding-inline-start:0;position:fixed;width:100%;z-index:991;top:0;background-color:var(--main_bg);-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:background .5s ease-in-out,padding .5s ease-in-out;-webkit-transition:background .5s ease-in-out,padding .5s ease-in-out;box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12)}nav #navbar_wrap .menu{margin-right:auto}nav #navbar_wrap .menu li{position:relative;list-style:none;float:left;text-align:center}nav #navbar_wrap .menu li:nth-child(odd) a:before{background-color:#ff0}nav #navbar_wrap .menu li:nth-child(odd) a:after{background-color:red}nav #navbar_wrap .menu li:nth-child(odd) a:hover~.indicator{background:linear-gradient(130deg,#ff0,red)}nav #navbar_wrap .menu li:nth-child(even) a:before{background-color:#00e2ff}nav #navbar_wrap .menu li:nth-child(even) a:after{background-color:#89ff00}nav #navbar_wrap .menu li:nth-child(even) a:hover~.indicator{left:34%;background:linear-gradient(130deg,#00e2ff,#89ff00)}nav #navbar_wrap .menu li ul.menu_child{display:none}nav #navbar_wrap .menu li ul.menu_child li{float:none!important}nav #navbar_wrap .menu li ul.menu_child li a:before{background-color:purple}nav #navbar_wrap .menu li ul.menu_child li a:after{background-color:#db7093}nav #navbar_wrap .menu li ul.menu_child li a:hover~.indicator{left:70%;background:linear-gradient(130deg,purple,#db7093)}nav #navbar_wrap .menu li a{cursor:pointer;white-space:nowrap;font-size:1.3rem;color:var(--love_color);position:relative;width:33.333%;display:table-cell;text-align:center;text-decoration:none;font-weight:700;padding:10px 20px;transition:.2s ease color}nav #navbar_wrap .menu li a i{color:var(--love_color);order:1;font-size:13px}nav #navbar_wrap .menu li a i.icon-chevron-up{display:none}nav #navbar_wrap .menu li a:after,nav #navbar_wrap .menu li a:before{content:"";position:absolute;border-radius:50%;transform:scale(0);transition:.2s ease transform}nav #navbar_wrap .menu li a:before{top:0;left:10px;width:6px;height:6px}nav #navbar_wrap .menu li a:after{top:5px;left:18px;width:4px;height:4px}nav #navbar_wrap .menu li a:hover,nav #navbar_wrap .menu li a:hover i{color:#00c4b6}nav #navbar_wrap .menu li a:hover i:after,nav #navbar_wrap .menu li a:hover i:before,nav #navbar_wrap .menu li a:hover:after,nav #navbar_wrap .menu li a:hover:before{transform:scale(1)}nav #navbar_wrap .menu li a:hover i~.indicator,nav #navbar_wrap .menu li a:hover~.indicator{visibility:unset;width:100%}nav #navbar_wrap .menu li .indicator{visibility:hidden;width:0;height:3px;background-color:#fff;border-radius:5px;transition:.35s ease all;margin:0 auto}nav #navbar_wrap .menu li:hover .menu_child{background-color:var(--main_bg);position:absolute;right:0;display:inline-block;padding:0;border-radius:6px;width:-moz-max-content;width:max-content;min-width:80px;box-shadow:0 5px 20px -4px rgba(0,0,0,.5)}nav #navbar_wrap .menu li:hover .menu_childicon-chevron-up{margin-top:13px}.open_mobile{transform:translate3d(100%,0,0)}#mobile_nav{background:var(--main_bg);position:fixed;left:-200px;top:0;z-index:991;overflow:hidden auto;width:200px;height:100%;padding:0;transition:all .5s}#mobile_nav ul{padding-inline-start:unset}#mobile_nav ul li{display:block;list-style:none;text-align:center;line-height:2}#mobile_nav ul li a{font-weight:700;display:block;cursor:pointer;white-space:nowrap;padding:10px;font-size:.9rem;color:var(--love_color)}header{background:linear-gradient(to top,var(--body_bg),#a9a9a9)}header .header_main{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;padding:3.6rem 0}header .header_main .title{line-height:15rem;color:#fff;font-size:5rem;font-weight:700}header .header_main p.now-path{color:#f60;margin-top:0;font-size:2rem;font-weight:bolder}.main-hero-waves-area{width:100%}.waves-area .waves-svg{width:100%;height:5rem}.parallax>use{animation:move-forever 25s cubic-bezier(.55,.5,.45,.5) infinite}.parallax>use:nth-child(1){animation-delay:-2s;animation-duration:7s;fill:rgba(247,249,254,.741)}.parallax>use:nth-child(2){animation-delay:-3s;animation-duration:10s;fill:rgba(247,249,254,.51)}.parallax>use:nth-child(3){animation-delay:-4s;animation-duration:13s;fill:rgba(247,249,254,.212)}.parallax>use:nth-child(4){animation-delay:-5s;animation-duration:20s;fill:#f7f9fe}[theme=dark] .parallax>use:nth-child(1){animation-delay:-2s;animation-duration:7s;fill:rgba(22,27,42,.4)}[theme=dark] .parallax>use:nth-child(2){animation-delay:-3s;animation-duration:10s;fill:rgba(22,27,42,.6)}[theme=dark] .parallax>use:nth-child(3){animation-delay:-4s;animation-duration:13s;fill:rgba(22,27,42,.8)}[theme=dark] .parallax>use:nth-child(4){animation-delay:-5s;animation-duration:20s;fill:#161b2a}@media (max-width:768px){.waves-area .waves-svg{height:40px;min-height:40px}}@keyframes move-forever{0%{transform:translate3d(-90px,0,0)}100%{transform:translate3d(85px,0,0)}}@media only screen and (max-width:601px){nav ul.side-toolbar li{width:1.5em!important}#navbar_wrap .navbar .menu{display:none}#navbar_wrap .navbar{margin:0}.navbar .open_nav{display:inline-block!important;margin-left:auto}.scrollbar{display:none}header .header_main .title{line-height:10rem}header .header_main p.now-path{font-size:1.5rem}#main-wrap.container{width:98.5%;margin:1rem auto}#main-wrap.container #post-list,#main-wrap.container .post{float:unset;width:100%;margin:0}#main-wrap.container #post-list .post-info,#main-wrap.container .post .post-info{padding:1.5rem}#main-wrap.container #post-list .post-item,#main-wrap.container .post .post-item{max-width:70%;margin:1rem}#main-wrap.container #post-list .post-content,#main-wrap.container .post .post-content{padding:1rem}#main-wrap.container .post+#rightside{display:none}#main-wrap.container #rightside{width:unset}#main-wrap.container #rightside .rightside-category,#main-wrap.container #rightside .rightside-message,#main-wrap.container #rightside .rightside-tag,#main-wrap.container #rightside .rightside-toc{width:unset}#main-wrap.container .category-container li.category-content{width:50%}#main-wrap.container .category-container li.category-content:nth-child(2n):after{width:0}#main-wrap.container .categories-content{font-size:1rem}#main-wrap.container .categories-default{margin:.1rem}#main-wrap.container .archives-container .article-item .post-link{width:88%}#main-wrap.container #categories-chart,#main-wrap.container #posts-chart,#main-wrap.container #tags-chart{display:block;width:100%}#main-wrap.container .uk-alert{padding:0;margin:0}#main-wrap.container .relatedPosts-list{padding-left:0}#main-wrap.container .relatedPosts-list li{display:unset;max-width:unset}#main-wrap.container .about .w32,#main-wrap.container .about .w43,#main-wrap.container .about .w55{width:100%}#main-wrap.container .about .author-content .author-content-item p{font-size:2rem!important;margin:1.5rem 0 0 0!important}footer .footer-message a{margin-right:.5rem!important}.wl-editor{font-size:.6em!important}#local-search{z-index:999!important}}@media only screen and (min-width:600px) and (max-width:992px){#navbar_wrap .navbar .menu{display:none}#navbar_wrap .navbar{margin:0}.navbar .open_nav{display:inline-block!important;margin-left:auto}#main-wrap.container{width:unset}#main-wrap.container #post-list,#main-wrap.container .post{width:69%}#main-wrap.container #post-list .post-item,#main-wrap.container .post .post-item{margin:0 0 .6rem .6rem}}@font-face{font-family:iconfont;src:url(/font/iconfont.woff2) format('woff2'),url(/font/iconfont.woff) format('woff'),url(/font/iconfont.ttf) format('truetype')}.iconfont{font-family:iconfont!important;font-size:1rem;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-message:before{content:"\e819"}.icon-like{color:red}.icon-like:before{content:"\e6fc"}.icon-eye:before{content:"\e706"}.icon-history-filling:before{content:"\e68a"}.icon-pintu:before{content:"\e741"}.icon-database:before{content:"\e6ac"}.icon-sad-tear:before{content:"\eb8a"}.icon-link:before{content:"\e6b4"}.icon-erweima:before{content:"\eaf1"}.icon-dashang:before{content:"\e693"}.icon-text:before{content:"\e71e"}.icon-timer-fill:before{content:"\e87a"}.icon-copy:before{content:"\e67f"}.icon-share:before{content:"\e68f"}.icon-yinsixieyi:before{content:"\e740"}.icon-paperplane-fill:before{content:"\e7a9"}.icon-tag-fill:before{content:"\e7ae"}.icon-pausecircle-fill:before{content:"\e7cb"}.icon-stopcircle-fill:before{content:"\e7cc"}.icon-playcircle-fill:before{content:"\e7cd"}.icon-picture-fill:before{content:"\e7cf"}.icon-calendaralt-fill:before{content:"\e7d8"}.icon-clouddownload-fill:before{content:"\e7d9"}.icon-times-circle-fill:before{content:"\e7e1"}.icon-angle-double-right:before{content:"\e84a"}.icon-angle-double-left:before{content:"\e84b"}.icon-home:before{content:"\e88b"}.icon-universal-access:before{content:"\ebbd"}.icon-window-restore:before{content:"\ebd3"}.icon-rotateright:before{content:"\e7e7"}.icon-dingyue:before{content:"\e602"}.icon-arrow-up:before{content:"\e601"}.icon-chevron-down:before{content:"\e606"}.icon-bars:before{content:"\e610"}.icon-books:before{content:"\e716"}.icon-tag:before{content:"\e66c"}.icon-search:before{content:"\e6aa"}.icon-envelope:before{content:"\e6ce"}.icon-GitHub:before{content:"\ea0a"}.icon-file-text-fill:before{content:"\e858"}.icon-closed-captioning:before{content:"\e600"}.icon-share-all-solid:before{content:"\e61d"}.icon-file-search-Fill:before{content:"\e8da"}.icon-sun:before{content:"\eba5"}.icon-chevron-left:before{content:"\e603"}.icon-chevron-up:before{content:"\e604"}.icon-chevron-right:before{content:"\e605"}.icon-moon:before{content:"\e8b1"}</style>
<script>
    const $id=e=>document.getElementById(e),$query=e=>document.querySelector(e),$queryAll=e=>document.querySelectorAll(e),getScript=(e,t)=>{if(Array.isArray(this.isGetScript)){if(this.isGetScript.includes(e))return t()}else this.isGetScript=[];this.isGetScript.push(e);var r=document.createElement("script");r.src=e,void 0!==t&&(r.readyState?r.onreadystatechange=()=>{"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=()=>{r.onload=null,t()}),(null!=$id("resource")?$id("resource"):document.body).appendChild(r)},getCss=e=>{var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)},copyText=e=>navigator.clipboard?.writeText&&navigator.clipboard.writeText(e),getDaysDiffBetweenDates=e=>parseInt((new Date-new Date(e))/864e5),throttle=(t,r)=>{var a=0;return function(){var e=new Date;r<e-a&&(t.apply(this,arguments),a=e)}};
</script>

<link rel="preload" href="/css/main.css" as="style" onload="this.onload=null;this.rel='stylesheet'">

<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="aloeJun | Lu's blog" type="application/atom+xml">
</head>
<body>

<div id="body-wrap">
    
    


    
    <nav id="nav">
    <menu id="navbar_wrap">
        <div class="navbar">
            <i class="iconfont icon-bars open_nav"></i>
            <a href="/" class="blog_name"><i>A<span style="color: #00c4b6">L</span>OEJ<span
                            style="color: #00c4b6">U</span>N</i></a>
            <ul class="menu">
                <li>
                    <a href="/" rel="noopener noreferrer">é¦–é¡µ</a>
                    <div class="indicator"></div>
                </li>
                
                    
                        <li>
                            <a href="/tags/index.html" rel="noopener noreferrer">
                                æ ‡ç­¾
                            </a>
                            <div class="indicator"></div>
                        </li>
                    
                
                    
                        <li>
                            <a href="/categories/index.html" rel="noopener noreferrer">
                                åˆ†ç±»
                            </a>
                            <div class="indicator"></div>
                        </li>
                    
                
                    
                        <li>
                            <a href="/archives/index.html" rel="noopener noreferrer">
                                å½’æ¡£
                            </a>
                            <div class="indicator"></div>
                        </li>
                    
                
                    
                        <li>
                            <a href="/about/index.html" rel="noopener noreferrer">
                                å…³äº
                            </a>
                            <div class="indicator"></div>
                        </li>
                    
                
                    
                        <li>
                            <a href="/contact/index.html" rel="noopener noreferrer">
                                ç•™è¨€
                            </a>
                            <div class="indicator"></div>
                        </li>
                    
                
                    
                        <li>
                            <a href="/friends/index.html" rel="noopener noreferrer">
                                æœ‹å‹
                            </a>
                            <div class="indicator"></div>
                        </li>
                    
                
                    
                        <li>
                            <a href="#" rel="noopener noreferrer">
                                æ¸…å•
                                <i class="iconfont icon-chevron-down" aria-hidden="true"></i>
                            </a>
                            <div class="indicator"></div>
                            <ul class="menu_child">
                                <i class="iconfont icon-chevron-down" aria-hidden="true"></i>
                                
                                    <li>
                                        <a href='/fcircle/index.html'
                                           rel="noopener noreferrer">æœ‹å‹å°åœˆ</a>
                                        <div class="indicator"></div>
                                    </li>
                                
                                    <li>
                                        <a href='/talk/index.html'
                                           rel="noopener noreferrer">ç¢ç¢å¨å¨</a>
                                        <div class="indicator"></div>
                                    </li>
                                
                                    <li>
                                        <a href='/books/index.html'
                                           rel="noopener noreferrer">é˜…è¯»è®°å½•</a>
                                        <div class="indicator"></div>
                                    </li>
                                
                                <li>
                                    <a target="_blank" href='https://sport.islu.cn' rel="noopener noreferrer noopener">è¿åŠ¨è®°å½•</a>
                                    <div class="indicator"></div>
                                </li>
                            </ul>
                        </li>
                    
                
            </ul>
            <ul class="side-toolbar">
                <li>
                    <i id="darkBtn" class="iconfont icon-sun" title="æ·±è‰²/æµ…è‰²"></i>
                </li>
                <li>
                    <i id="searchBtn" class="iconfont icon-search"></i>
                </li>
            </ul>
        </div>
    </menu>
    <menu id="mobile_nav">
        <ul>
            <li>
                <a href="/" rel="noopener noreferrer">é¦–é¡µ</a>
                <div class="indicator"></div>
            </li>
            
                
                    <li>
                        <a href="/tags/index.html" rel="noopener noreferrer">
                            æ ‡ç­¾
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/categories/index.html" rel="noopener noreferrer">
                            åˆ†ç±»
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/archives/index.html" rel="noopener noreferrer">
                            å½’æ¡£
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/about/index.html" rel="noopener noreferrer">
                            å…³äº
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/contact/index.html" rel="noopener noreferrer">
                            ç•™è¨€
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/friends/index.html" rel="noopener noreferrer">
                            æœ‹å‹
                        </a>
                    </li>
                
            
                
                    
                        <li>
                            <a href='/fcircle/index.html'
                               rel="noopener noreferrer">
                                æœ‹å‹å°åœˆ
                            </a>
                        </li>
                    
                        <li>
                            <a href='/talk/index.html'
                               rel="noopener noreferrer">
                                ç¢ç¢å¨å¨
                            </a>
                        </li>
                    
                        <li>
                            <a href='/books/index.html'
                               rel="noopener noreferrer">
                                é˜…è¯»è®°å½•
                            </a>
                        </li>
                    
                
            
            <li>
                <a target="_blank" href="https://sport.islu.cn" rel="noopener noreferrer noopener">è¿åŠ¨</a>
                <div class="indicator"></div>
            </li>
        </ul>
    </menu>
</nav>

    
    <header id="header" class="main-hero-waves-area waves-area">
    <div class="header_main">
        <div class="container center">
            <h2 class="title">Choice over effort.</h2>
            <p class="now-path">
                <a href="/" rel="noopener noreferrer" title="è¿”å›é¦–é¡µ">Home /</a>
                
                    JavaScripté—­åŒ…
                
            </p>
        </div>
    </div>
    <svg class="waves-svg" xmlns="http://www.w3.org/2000/svg"
         viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
            <path id="gentle-wave"
                  d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352Z"></path>
        </defs>
        <g class="parallax">
            <use href="#gentle-wave" x="48" y="0"></use>
            <use href="#gentle-wave" x="48" y="3"></use>
            <use href="#gentle-wave" x="48" y="5"></use>
            <use href="#gentle-wave" x="48" y="7"></use>
        </g>
    </svg>
</header>
    
    <main id="main-wrap" style="display: none" class="container clearfix">
        
<article class="post main-card" id="post">
    <div class="post-info">
        <div class="post-title">
            <h1>JavaScripté—­åŒ…</h1>
        </div>
        <div class="post-meta">
            <div class="post-date">
                <i class="iconfont icon-calendaralt-fill post-meta-icon"></i>
                <span class="post-meta-label">
                    å‘è¡¨äº
                    <span id="dateTime">
                        2021-11-14
                    </span> |
                </span>
                <i class="iconfont icon-history-filling post-meta-icon"></i>
                <span class="post-meta-label">
                    æ›´æ–°äº
                    <span id="updateTime">
                        2021-11-14
                    </span>
                </span>
            </div>
            <div class="post-meta-wordcount">
                <i class="iconfont icon-text post-meta-icon"></i>
                <span class="post-meta-label">æ€»å­—æ•°:</span>
                <span class="word-count">2.3k | </span>
                <i class="iconfont icon-timer-fill post-meta-icon"></i>
                <span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span>
                <span>9åˆ†é’Ÿ</span>
                
                    | <i class="iconfont icon-eye post-meta-icon"></i>
                    <span class="post-meta-label">é˜…è¯»é‡:</span>
                    <span class="waline-pageview-count"></span>
                    </span>
                
            </div>
        </div>
        <div class="uk-alert">
            <p id="thisTime">
                <span id="timeLag" class="loading center">
                       <img src="/media/detail/loaded.svg" alt="åŠ è½½ä¸­...">
                </span>
            </p>
        </div>
    </div>
    <div class="post-content">
        <h1 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h1><h2 id="ä»€ä¹ˆæ˜¯é—­åŒ…"><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åŒ…"></a>ä»€ä¹ˆæ˜¯é—­åŒ…</h2><p>å…ˆæ¥è¯´ä¸‹æ¦‚å¿µï¼š</p>
<blockquote>
<p>ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆ<strong>lexical environmentï¼Œè¯æ³•ç¯å¢ƒ</strong>ï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯<strong>é—­åŒ…</strong>ï¼ˆ<strong>closure</strong>ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸã€‚åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ã€‚</p>
</blockquote>
<h2 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h2><p>è¯´åˆ°é—­åŒ…ï¼Œå¿…é¡»è¦è¯´ä¸‹ä½œç”¨åŸŸï¼Œçœ‹ä¸‹é¢ä»£ç  ğŸ‘‡ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&quot;Davie&quot;</span>; <span class="comment">// name æ˜¯ä¸€ä¸ªè¢« init åˆ›å»ºçš„å±€éƒ¨å˜é‡</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">displayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// displayName() æ˜¯å†…éƒ¨å‡½æ•°ï¼Œä¸€ä¸ªé—­åŒ…</span></span><br><span class="line">    <span class="title function_">alert</span>(name); <span class="comment">// ä½¿ç”¨äº†çˆ¶å‡½æ•°ä¸­å£°æ˜çš„å˜é‡</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">displayName</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">init</span>();</span><br></pre></td></tr></table></figure>

<p><code>init()</code> åˆ›å»ºäº†ä¸€ä¸ªå±€éƒ¨å˜é‡ <code>name</code> å’Œä¸€ä¸ªåä¸º <code>displayName()</code> çš„å‡½æ•°ã€‚<code>displayName()</code> æ˜¯å®šä¹‰åœ¨ <code>init()</code> é‡Œçš„å†…éƒ¨å‡½æ•°ï¼Œå¹¶ä¸”ä»…åœ¨ <code>init()</code> å‡½æ•°ä½“å†…å¯ç”¨ã€‚<code>displayName()</code> æ²¡æœ‰è‡ªå·±çš„å±€éƒ¨å˜é‡ã€‚ç„¶è€Œï¼Œå› ä¸ºå®ƒå¯ä»¥è®¿é—®åˆ°å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œæ‰€ä»¥ <code>displayName()</code> å¯ä»¥ä½¿ç”¨çˆ¶å‡½æ•° <code>init()</code> ä¸­å£°æ˜çš„å˜é‡ <code>name</code> ã€‚</p>
<p>è¿è¡Œè¯¥ä»£ç åå‘ç°ï¼Œ <code>displayName()</code> å‡½æ•°å†…çš„ <code>alert()</code> è¯­å¥æˆåŠŸæ˜¾ç¤ºå‡ºäº†å˜é‡ <code>name</code> çš„å€¼ï¼ˆè¯¥å˜é‡åœ¨å…¶çˆ¶å‡½æ•°ä¸­å£°æ˜ï¼‰ã€‚è¯æ³•ï¼ˆlexicalï¼‰ä¸€è¯æŒ‡çš„æ˜¯ï¼Œ<strong>è¯æ³•ä½œç”¨åŸŸæ ¹æ®æºä»£ç ä¸­å£°æ˜å˜é‡çš„ä½ç½®æ¥ç¡®å®šè¯¥å˜é‡åœ¨ä½•å¤„å¯ç”¨</strong>ã€‚åµŒå¥—å‡½æ•°å¯è®¿é—®å£°æ˜äºå®ƒä»¬å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ã€‚</p>
<p>é‡è¦çš„è¯è¯´ä¸‰éï¼š</p>
<p><strong>è¯æ³•ä½œç”¨åŸŸæ ¹æ®æºä»£ç ä¸­å£°æ˜å˜é‡çš„ä½ç½®æ¥ç¡®å®šè¯¥å˜é‡åœ¨ä½•å¤„å¯ç”¨</strong></p>
<p><strong>è¯æ³•ä½œç”¨åŸŸæ ¹æ®æºä»£ç ä¸­å£°æ˜å˜é‡çš„ä½ç½®æ¥ç¡®å®šè¯¥å˜é‡åœ¨ä½•å¤„å¯ç”¨</strong></p>
<p><strong>è¯æ³•ä½œç”¨åŸŸæ ¹æ®æºä»£ç ä¸­å£°æ˜å˜é‡çš„ä½ç½®æ¥ç¡®å®šè¯¥å˜é‡åœ¨ä½•å¤„å¯ç”¨</strong></p>
<p>ä¸€å®šæ˜¯å£°æ˜å˜é‡çš„ä½ç½®ï¼Œè€Œä¸æ˜¯è°ƒç”¨çš„ä½ç½®ã€‚</p>
<h2 id="3-é—­åŒ…"><a href="#3-é—­åŒ…" class="headerlink" title="3. é—­åŒ…"></a>3. é—­åŒ…</h2><p>å†æ¥çœ‹ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">makeFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&quot;Davie&quot;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">displayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> displayName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;å¤§å«&quot;</span></span><br><span class="line"><span class="keyword">var</span> myFunc = <span class="title function_">makeFunc</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">myFunc</span>();</span><br></pre></td></tr></table></figure>

<p>ä»£ç è¿è¡Œç»“æœæ˜¯ â€œDavieâ€ï¼Œ<code>displayName</code>å‡½æ•°å½¢æˆä¸€ä¸ªé—­åŒ…ï¼Œå¦‚æœæ²¡æœ‰<code>displayName</code>å‡½æ•°ï¼Œ<code>makeFunc</code>å‡½æ•°æ‰§è¡Œå®Œä¹‹åï¼Œname å±æ€§å°±ä¸èƒ½å†è¢«è®¿é—®ã€‚è€Œç”±äº<code>displayName</code>çš„å­˜åœ¨ï¼Œç»´æŒäº†å¯¹<code>name</code>çš„å¼•ç”¨ï¼Œå› æ­¤ï¼Œå½“ <code>myFunc</code> è¢«è°ƒç”¨æ—¶ï¼Œå˜é‡ <code>name</code> ä»ç„¶å¯ç”¨ã€‚<br>â€‹</p>
<p>å¦ä¸€ä¸ªæœ‰è¶£çš„ä»£ç ï¼š<br>â€‹</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">makeAdder</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> add5 = <span class="title function_">makeAdder</span>(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">var</span> add10 = <span class="title function_">makeAdder</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add5</span>(<span class="number">2</span>));  <span class="comment">// 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add10</span>(<span class="number">2</span>)); <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>

<p><code>makeAdder</code>å‡½æ•°åœ¨æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå‚æ•°<code>x</code>ä»ç„¶å­˜åœ¨ï¼Œä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œå½“åœ¨æ­¤æ‰§è¡Œå†…éƒ¨çš„é—­åŒ…å‡½æ•°æ—¶ï¼Œå°±å¯ä»¥è¢«å†…éƒ¨å‡½æ•°è®¿é—®åˆ°ã€‚</p>
<h2 id="ä½¿ç”¨é—­åŒ…å®ç°æ¨¡å—åŒ–"><a href="#ä½¿ç”¨é—­åŒ…å®ç°æ¨¡å—åŒ–" class="headerlink" title="ä½¿ç”¨é—­åŒ…å®ç°æ¨¡å—åŒ–"></a>ä½¿ç”¨é—­åŒ…å®ç°æ¨¡å—åŒ–</h2><p>åœ¨ä¸€äº›ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å¦‚ Java ä¸­ï¼Œæ˜¯æ”¯æŒå°†æ–¹æ³•å£°æ˜ä¸ºç§æœ‰çš„ï¼Œå³å®ƒä»¬åªèƒ½è¢«åŒä¸€ä¸ªç±»ä¸­çš„å…¶å®ƒæ–¹æ³•æ‰€è°ƒç”¨ã€‚</p>
<p>è€Œ JavaScript æ²¡æœ‰è¿™ç§åŸç”Ÿæ”¯æŒï¼ˆTypeScript å·²ç»æ”¯æŒï¼‰ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…æ¥æ¨¡æ‹Ÿç§æœ‰æ–¹æ³•ã€‚ç§æœ‰æ–¹æ³•ä¸ä»…ä»…æœ‰åˆ©äºé™åˆ¶å¯¹ä»£ç çš„è®¿é—®ï¼šè¿˜æä¾›äº†ç®¡ç†å…¨å±€å‘½åç©ºé—´çš„å¼ºå¤§èƒ½åŠ›ï¼Œé¿å…éæ ¸å¿ƒçš„æ–¹æ³•å¼„ä¹±äº†ä»£ç çš„å…¬å…±æ¥å£éƒ¨åˆ†ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹å±•ç°äº†å¦‚ä½•ä½¿ç”¨é—­åŒ…æ¥å®šä¹‰å…¬å…±å‡½æ•°ï¼Œå¹¶ä»¤å…¶å¯ä»¥è®¿é—®ç§æœ‰å‡½æ•°å’Œå˜é‡ã€‚è¿™ä¸ªæ–¹å¼ä¹Ÿç§°ä¸º<strong>æ¨¡å—æ¨¡å¼</strong>ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Counter</span> = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> _privateCounter = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">changeBy</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    _privateCounter += val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">increment</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">changeBy</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">decrement</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">changeBy</span>(-<span class="number">1</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">value</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> _privateCounter;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter</span>.<span class="title function_">value</span>()); <span class="comment">/* logs 0 */</span></span><br><span class="line"><span class="title class_">Counter</span>.<span class="title function_">increment</span>();</span><br><span class="line"><span class="title class_">Counter</span>.<span class="title function_">increment</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter</span>.<span class="title function_">value</span>()); <span class="comment">/* logs 2 */</span></span><br><span class="line"><span class="title class_">Counter</span>.<span class="title function_">decrement</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter</span>.<span class="title function_">value</span>()); <span class="comment">/* logs 1 */</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ç«‹å³æ‰§è¡Œå‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—å†…éƒ¨çš„ä¸¤ä¸ªå˜é‡<code>privateCounter</code>å’Œ<code>changeBy</code>éƒ½ä¸èƒ½å†å¤–éƒ¨è®¿é—®åˆ°ï¼Œäºæ˜¯æä¾›äº†ä¸‰ä¸ªå‡½æ•°ç”¨äºåœ¨å¤–éƒ¨è®¿é—®ã€‚è¿™ä¸‰ä¸ªå…¬å…±å‡½æ•°æ˜¯å…±äº«åŒä¸€ä¸ªç¯å¢ƒçš„é—­åŒ…ã€‚å¤šäº JavaScript çš„è¯æ³•ä½œç”¨åŸŸï¼Œå®ƒä»¬éƒ½å¯ä»¥è®¿é—® <code>privateCounter</code> å˜é‡å’Œ <code>changeBy</code> å‡½æ•°ã€‚</p>
<p>æŠŠä¸Šé¢çš„ä»£ç ç¨åŠ æ”¹é€ ï¼Œå˜æˆæœ‰åå‡½æ•°ï¼Œé€šè¿‡æ‰§è¡Œè¿™ä¸ªå‡½æ•°å¾—åˆ°å¤šä¸ªè®¡æ•°å™¨ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> makeCounter = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> privateCounter = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">changeBy</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    privateCounter += val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">increment</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">changeBy</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">decrement</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">changeBy</span>(-<span class="number">1</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">value</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> privateCounter;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Counter1</span> = <span class="title function_">makeCounter</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Counter2</span> = <span class="title function_">makeCounter</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter1</span>.<span class="title function_">value</span>()); <span class="comment">/* logs 0 */</span></span><br><span class="line"><span class="title class_">Counter1</span>.<span class="title function_">increment</span>();</span><br><span class="line"><span class="title class_">Counter1</span>.<span class="title function_">increment</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter1</span>.<span class="title function_">value</span>()); <span class="comment">/* logs 2 */</span></span><br><span class="line"><span class="title class_">Counter1</span>.<span class="title function_">decrement</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter1</span>.<span class="title function_">value</span>()); <span class="comment">/* logs 1 */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter2</span>.<span class="title function_">value</span>()); <span class="comment">/* logs 0 */</span></span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªè®¡æ•°å™¨ <code>Counter1</code> å’Œ <code>Counter2</code> æ˜¯å¦‚ä½•ç»´æŠ¤å®ƒä»¬å„è‡ªçš„ç‹¬ç«‹æ€§çš„ã€‚æ¯ä¸ªé—­åŒ…éƒ½æ˜¯å¼•ç”¨è‡ªå·±è¯æ³•ä½œç”¨åŸŸå†…çš„å˜é‡ <code>privateCounter</code> ã€‚</p>
<p>æ¯æ¬¡è°ƒç”¨å…¶ä¸­ä¸€ä¸ªè®¡æ•°å™¨æ—¶ï¼Œé€šè¿‡æ”¹å˜è¿™ä¸ªå˜é‡çš„å€¼ï¼Œä¼šæ”¹å˜è¿™ä¸ªé—­åŒ…çš„è¯æ³•ç¯å¢ƒã€‚ç„¶è€Œåœ¨ä¸€ä¸ªé—­åŒ…å†…å¯¹å˜é‡çš„ä¿®æ”¹ï¼Œä¸ä¼šå½±å“åˆ°å¦å¤–ä¸€ä¸ªé—­åŒ…ä¸­çš„å˜é‡ã€‚</p>
<blockquote>
<p>é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å®ç°å¾ˆå¤šä¸é¢å‘å¯¹è±¡ç¼–ç¨‹ç›¸å…³çš„å¥½å¤„ â€”â€” ç‰¹åˆ«æ˜¯æ•°æ®éšè—å’Œå°è£…ã€‚</p>
</blockquote>
<h2 id="ä¸€ä¸ªå¸¸è§é”™è¯¯"><a href="#ä¸€ä¸ªå¸¸è§é”™è¯¯" class="headerlink" title="ä¸€ä¸ªå¸¸è§é”™è¯¯"></a>ä¸€ä¸ªå¸¸è§é”™è¯¯</h2><p>æˆ‘ä»¬åœ¨å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯é€šè¿‡å¾ªç¯çš„æ–¹å¼ç»™å…ƒç´ æ·»åŠ äº‹ä»¶ï¼š</p>
<figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;html&quot;</span>&gt;</span>HTML<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;css&quot;</span>&gt;</span>CSS<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;js&quot;</span>&gt;</span>JavaScript<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>éœ€æ±‚æ˜¯ç»™æ¯ä¸€ä¸ª<code>p</code>æ ‡æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œå½“ç‚¹å‡»<code>p</code>æ ‡ç­¾æ—¶ï¼Œä½¿ç”¨<code>alert</code>å¼¹å‡ºé‡Œé¢çš„æ–‡å­—å†…å®¹ï¼š</p>
<p>é€šè¿‡ for å¾ªç¯æ·»åŠ ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; list.<span class="property">length</span>;i++)&#123;</span><br><span class="line">  <span class="keyword">var</span> item = list[i]</span><br><span class="line">  item.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="title function_">alert</span>(item.<span class="property">innerText</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¿™æ ·å†™çš„è¯ï¼Œæ‰§è¡Œä»£ç ä¼šå‘ç°ä¸ç®¡ç‚¹å‡»é‚£ä¸ªå…ƒç´ ï¼Œå¼¹å‡ºçš„å§‹ç»ˆæ˜¯â€JavaScriptâ€ã€‚</p>
<p>åŸå› æ˜¯èµ‹å€¼ç»™ onclick çš„æ˜¯é—­åŒ…ã€‚è¿™ä¸‰ä¸ªé—­åŒ…åœ¨å¾ªç¯ä¸­è¢«åˆ›å»ºï¼Œä½†ä»–ä»¬å…±äº«äº†åŒä¸€ä¸ªè¯æ³•ä½œç”¨åŸŸï¼Œåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­å­˜åœ¨ä¸€ä¸ªå˜é‡ itemã€‚å˜é‡ item ä½¿ç”¨ var è¿›è¡Œå£°æ˜ï¼Œç”±äºå˜é‡æå‡ï¼Œæ‰€ä»¥å…·æœ‰å‡½æ•°ä½œç”¨åŸŸã€‚ç”±äºå¾ªç¯åœ¨äº‹ä»¶è§¦å‘ä¹‹å‰æ—©å·²æ‰§è¡Œå®Œæ¯•ï¼Œå˜é‡å¯¹è±¡<code>item</code>ï¼ˆè¢«ä¸‰ä¸ªé—­åŒ…æ‰€å…±äº«ï¼‰çš„å€¼å·²ç»å˜æˆäº†æœ€åä¸€ä¸ª<code>p</code>ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"> <span class="keyword">function</span> <span class="title function_">showText</span>(<span class="params">item</span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="title function_">alert</span>(item.<span class="property">innerText</span>)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> list = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; list.<span class="property">length</span>;i++)&#123;</span><br><span class="line">  <span class="keyword">var</span> item = list[i]</span><br><span class="line">  item.<span class="property">onclick</span> = <span class="title function_">showText</span>(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰çš„å›è°ƒä¸å†å…±äº«åŒä¸€ä¸ªç¯å¢ƒï¼Œ showText å‡½æ•°ä¸ºæ¯ä¸€ä¸ªå›è°ƒåˆ›å»ºä¸€ä¸ªæ–°çš„è¯æ³•ç¯å¢ƒã€‚ä¸‰ä¸ªé—­åŒ…ä¸­ï¼Œä¸‰ä¸ª item ä¼šè¢«å•ç‹¬ä¿å­˜ä¸‹æ¥ã€‚</p>
<p>å½“ç„¶ä½¿ç”¨åŒ¿åå‡½æ•°ä¹Ÿå¯ä»¥ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line"></span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.<span class="property">length</span>;i++)&#123;</span><br><span class="line">   (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="keyword">var</span> item = list[i]</span><br><span class="line">     item.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="title function_">alert</span>(item.<span class="property">innerText</span>)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)()</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œä½¿ç”¨ ES6 çš„ let å…³é”®å­—å°±å•é—´å¤šäº†ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> item = list[i];</span><br><span class="line">  item.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(item.<span class="property">innerText</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ let å®šä¹‰ itemï¼Œæ¯ä¸ªé—­åŒ…éƒ½ç»‘å®šäº†å—ä½œç”¨åŸŸçš„å˜é‡ï¼Œè¿™æ„å‘³ç€ä¸å†éœ€è¦é¢å¤–çš„é—­åŒ…ã€‚</p>
<p>å¦å¤–æœ‰ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ forEach å‡½æ•°ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨forEachæ–¹æ³•</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Array</span>().<span class="property">forEach</span>.<span class="title function_">call</span>(list, <span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">  item.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(item.<span class="property">innerText</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="æ€§èƒ½é—®é¢˜"><a href="#æ€§èƒ½é—®é¢˜" class="headerlink" title="æ€§èƒ½é—®é¢˜"></a>æ€§èƒ½é—®é¢˜</h2><p>é—­åŒ…è™½ç„¶æœ‰å¾ˆå¤šå¥½å¤„ï¼Œç„¶è€Œä¹Ÿè¦è°¨æ…ä½¿ç”¨ï¼Œç”±äºé—­åŒ…ä¼šä¿å­˜å˜é‡ï¼Œä¸ä¼šç«‹å³è¢«åƒåœ¾å›æ”¶æœºåˆ¶å¤„ç†ï¼Œæ‰€ä»¥åˆ›å»ºè¿‡å¤šçš„é—­åŒ…å¯èƒ½ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨åˆ›å»ºæ–°çš„å¯¹è±¡æˆ–è€…ç±»æ—¶ï¼Œæ–¹æ³•é€šå¸¸åº”è¯¥å…³è”äºå¯¹è±¡çš„åŸå‹ï¼Œè€Œä¸æ˜¯å®šä¹‰åˆ°å¯¹è±¡çš„æ„é€ å™¨ä¸­ã€‚åŸå› æ˜¯è¿™å°†å¯¼è‡´æ¯æ¬¡æ„é€ å™¨è¢«è°ƒç”¨æ—¶ï¼Œæ–¹æ³•éƒ½ä¼šè¢«é‡æ–°èµ‹å€¼ä¸€æ¬¡ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ¯ä¸ªå¯¹è±¡çš„åˆ›å»ºï¼Œæ–¹æ³•éƒ½ä¼šè¢«é‡æ–°èµ‹å€¼ï¼‰ã€‚</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, message</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name.<span class="title function_">toString</span>();</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">message</span> = message.<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">getName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">    </span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">getMessage</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åˆ©ç”¨åˆ°é—­åŒ…çš„å¥½å¤„ï¼Œå› æ­¤å¯ä»¥é¿å…ä½¿ç”¨é—­åŒ…ã€‚ä¿®æ”¹æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript">
    <div class="code-block-header" lang="javascript">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, message</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name.<span class="title function_">toString</span>();</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">message</span> = message.<span class="title function_">toString</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">MyObject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">MyObject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getMessage</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li>ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨ IE ä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚</li>
<li>é—­åŒ…ä¼šåœ¨çˆ¶å‡½æ•°å¤–éƒ¨ï¼Œæ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠçˆ¶å‡½æ•°å½“ä½œå¯¹è±¡ï¼ˆobjectï¼‰ä½¿ç”¨ï¼ŒæŠŠé—­åŒ…å½“ä½œå®ƒçš„å…¬ç”¨æ–¹æ³•ï¼ˆPublic Methodï¼‰ï¼ŒæŠŠå†…éƒ¨å˜é‡å½“ä½œå®ƒçš„ç§æœ‰å±æ€§ï¼ˆprivate valueï¼‰ï¼Œè¿™æ—¶ä¸€å®šè¦å°å¿ƒï¼Œä¸è¦éšä¾¿æ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚</li>
</ol>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é—­åŒ…èƒ½å¤Ÿè¯»å–å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„å˜é‡çš„å‡½æ•°ã€‚</p>
<p>é—­åŒ…å…·æœ‰ï¼šå°é—­æ€§ã€æŒä¹…æ€§çš„æœ‰ç‚¹ã€‚</p>
<p>åŒæ—¶åˆç”±äºæŒä¹…æ€§ï¼Œå¤„ç†ä¸å½“æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚</p>

    </div>
    
    

    <ul class="post-tools">
        
        
            <li id="reward">
                <span id="reward-btn" class="dashang" title="æ‰“èµï¼Œæ”¯æŒä¸€ä¸‹"><i class="iconfont icon-dashang"></i> æ‰“èµä½œè€…</span>
                <div class="shang-box">
                    <div class="shang-tit">
                        <p>æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„!</p>
                    </div>
                    <div class="shang-payimg">
                        <img id="alipay" src="/media/reward/alipay.jpg" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«">
                        <img id="wechat" src="/media/reward/wechat.jpg" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«">
                    </div>
                    <div class="pay-explain">æ‰«ç æ‰“èµï¼Œä½ è¯´å¤šå°‘å°±å¤šå°‘</div>
                    <div class="shang-payselect">
                        <label id="alipay-radio" class="pay-item">
                            <input type="radio" checked name="reward">
                            <span></span>
                        </label>
                        <label id="wechat-radio" class="pay-item">
                            <input type="radio" name="reward">
                            <span></span>
                        </label>
                    </div>
                    <button class="tip-button">
                        <span class="tip-button-text">æ‰“èµå®Œæ¯•</span>
                        <div class="coin-wrapper">
                            <div class="coin">
                                <div class="coin-middle"></div>
                                <div class="coin-back"></div>
                                <div class="coin-front"></div>
                            </div>
                        </div>
                    </button>
                </div>
            </li>
        
        
        
            <li id="qrcode-btn" title="æ‰«æäºŒç»´ç è®¿é—®">
                <i class="iconfont icon-erweima"></i>
            </li>
        
        <li class="sharePage" title="åˆ†äº«æœ¬é¡µ"  onclick="copyText(window.location.href)">
            <i class="iconfont icon-link"></i>
        </li>
        
            
                <li class="right">
                    <a href="/tags/JavaScript/">
                        # JavaScript 7
                    </a>
                </li>
            
        
    </ul>

    
    
        
            
            <div class="post-copyright">
                <div class="post-copyright-icon"></div>
                <div class="post-copyright-author">
                    <span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span>
                    <span class="post-copyright-info">
              <a href="mailto:aloeJun@qq.com">aloeJun</a>
            </span>
                </div>
                <div class="post-copyright-type">
                    <span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span>
                    <span class="post-copyright-info">
              <a href="https://www.islu.cn/posts/JavaScriptClosure.html">https://www.islu.cn/posts/JavaScriptClosure.html</a>
            </span>
                </div>
                <div class="post-copyright-notice">
                    <span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span>
                    <span class="post-copyright-info">
                        æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨
                      <a href="/cc " target="_blank">
                          CC BY-NC-SA 4.0 </a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª
                      <a href="https://www.islu.cn/posts/JavaScriptClosure.html" target="_blank">aloeJun | Lu's Blog</a>
                    </span>
                </div>
            </div>
        
    
    
    <div class="pagination-post">
        
            <a href="/posts/JavaScriptInheritanceOfObjects.html">
                <div class="prev-title"><i class="iconfont icon-chevron-left"></i>JavaScriptå¯¹è±¡çš„ç»§æ‰¿</div>
            </a>
        
        
            <a href="/posts/JavaScriptDataTypeTransition.html">
                <div class="next-title">JavaScriptç±»å‹éšå¼è½¬æ¢<i class="iconfont icon-chevron-right"></i></div>
            </a>
        
    </div>
    
    <hr>
    <div class="comment-head">
        <div id="comment">
    <div class="loading center"><img src="/media/detail/load.svg" alt="åŠ è½½ä¸­..."></div>
</div>
<script type="module" data-pjax>
    import { init } from '/lib/waline/waline.mjs';

    const locale = {
        nick: 'æ˜µç§°(å¿…å¡«)',
        nickError: 'å³ä½¿æ˜¯æ˜µç§°ä¹Ÿä¸è¦å°‘äº3ä¸ªå­—å“¦ ~ ',
        mail: 'é‚®ç®±(å¿…å¡«)',
        mailError: 'è¯·å†æ¬¡æ£€æŸ¥ä¸€ä¸‹çš„é‚®ä»¶åœ°å€å“¦ ~ ',
        link: 'ç½‘å€(é€‰å¡«)',
        placeholder: 'ğŸ¤£ä¸€èµ·æ¥ç©ï¼Œç•™ä¸‹ä½ çš„è¶³è¿¹å§~ã€‚è¯„è®ºæ”¯æŒé‚®ç®±å›å¤é€šçŸ¥ï¼ğŸ“§\n' +
            'ğŸš€æ”¯æŒæ³¨å†Œç™»å½•ï¼Œå¹¶æ–°å¢æ”¯æŒQQç™»å½•(âŠ™oâŠ™)ï¼ğŸ’–\n' +
            'ğŸ’£è¯·æ–‡æ˜è¯„è®ºå“¦ç¦æ­¢æ¶æ„è¯„è®ºğŸˆ²\n' +
            'âš ï¸å…¬å¼€ç½‘ç»œç©ºé—´ï¼Œè¯·ä¸è¦å‘è¡¨ä»»ä½•åŒ…å«ä¸ªäººæˆ–å…¶ä»–äººçš„éšç§ä¿¡æ¯â›”',
        sofa: 'æŠ¢ä¸ªæ²™å‘å§ ~ ',
        submit: 'å‘å°„ç‚®å¼¹',
        reply: 'å‡†å¤‡å›å‡»',
        cancelReply: 'å–æ¶ˆå›å‡»',
        comment: 'è¯„è®º',
        more: 'åŠ è½½æ›´å¤š...',
        preview: 'å®æ—¶æ¼”ç¤º',
        emoji: 'è¡¨æƒ…ç‚¸å¼¹',
        uploadImage: 'ä¸Šä¼ å›¾ç‰‡',
        seconds: 'ç§’å‰',
        minutes: 'åˆ†é’Ÿå‰',
        hours: 'å°æ—¶å‰',
        days: 'å¤©å‰',
        now: 'åˆšåˆš',
        uploading: 'æ­£åœ¨ä¸Šä¼ ',
        login: 'å®åå‘å°„',
        logout: 'å–æ¶ˆå®å',
        word: 'å­—',
        wordHint: 'è¯„è®ºå­—æ•°åº”åœ¨ $0 åˆ° $1 å­—ä¹‹é—´ï¼\nå½“å‰å­—æ•°ï¼š$2',
    };


    init({
        el: '#comment',
        serverURL: 'https://discuss.islu.cn',
        path: window.location.pathname,
        pageSize: 10, // è¯„è®ºæ•°
        pageview: true, // é˜…è¯»é‡
        emoji: [ // è¡¨æƒ…
            '//unpkg.com/@waline/emojis@1.0.1/bilibili',
            '//unpkg.com/@waline/emojis@1.0.1/qq',
            '//unpkg.com/@waline/emojis@1.0.1/tieba',
        ],
        WalineSearchOptions: false, // æœç´¢åŠŸèƒ½
        copyright: false, // å³ä¸‹è§’ç‰ˆæƒ
        imageUploader: false, //ä¸Šä¼ å›¾ç‰‡
        lang: 'zh',
        search: false, // è¡¨æƒ…åŒ…æœç´¢
        reaction: false, // å¼€å¯ååº”
        locale // è‡ªå®šä¹‰æç¤º
    });

</script>
    </div>
    
    
</article>

        
        
    <aside id="rightside" class="clearfix">
        <div class="rightside-message">
            <h1 class="blog-name">aloeJun</h1>
            <div class="my-description">
                è¿·èŒ«çš„åŸå› å¾€å¾€åªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯åœ¨æœ¬è¯¥æ‹¼å‘½å»åŠªåŠ›çš„å¹´çºªï¼Œæƒ³å¾—å¤ªå¤šï¼Œåšå¾—å¤ªå°‘ã€‚ğŸ””
            </div>
        </div>

        
            <div class="rightside-toc">
                <p class="title">
                    <i class="iconfont icon-bars"></i> ç›®å½•
                    <span class="num">0%</span>
                    <i class="backTop iconfont icon-arrow-up"
                       onclick="document.documentElement.scrollTop = document.body.scrollTop =0"></i>
                </p>

                <progress class="progress" value="0" max="100"></progress>
                
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85"><span class="toc-text">ä»€ä¹ˆæ˜¯é—­åŒ…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">è¯æ³•ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%97%AD%E5%8C%85"><span class="toc-text">3. é—­åŒ…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%97%AD%E5%8C%85%E5%AE%9E%E7%8E%B0%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-text">ä½¿ç”¨é—­åŒ…å®ç°æ¨¡å—åŒ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF"><span class="toc-text">ä¸€ä¸ªå¸¸è§é”™è¯¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"><span class="toc-text">æ€§èƒ½é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">æ€»ç»“</span></a></li></ol>
                <a id="goComment" href="#comment" title="ç§»æ­¥è¯„è®º" alt="ç§»æ­¥è¯„è®º">COMMENT <i
                            class="iconfont icon-arrow-down"></i></a>
            </div>
        

        

        

        
            <div class="related-posts">
                <p class="title"><i class="fas fa-thumbs-up fa-fw"></i>æ¨èæ–‡ç« </p><ul class="relatedPosts-list"><li><a href="/posts/JavaScriptInheritanceOfObjects.html" title="JavaScriptå¯¹è±¡çš„ç»§æ‰¿">JavaScriptå¯¹è±¡çš„ç»§æ‰¿</a></li><li><a href="/posts/JavaScriptDataTypeTransition.html" title="JavaScriptç±»å‹éšå¼è½¬æ¢">JavaScriptç±»å‹éšå¼è½¬æ¢</a></li><li><a href="/posts/JavaScriptDataType.html" title="JavaScriptæ•°æ®ç±»å‹åˆ¤æ–­">JavaScriptæ•°æ®ç±»å‹åˆ¤æ–­</a></li><li><a href="/posts/AddBubbleRiseEffect.html" title="Hexoæ·»åŠ æ°”æ³¡ä¸Šå‡ç‰¹æ•ˆ">Hexoæ·»åŠ æ°”æ³¡ä¸Šå‡ç‰¹æ•ˆ</a></li><li><a href="/posts/JavaScriptLoadSpeed.html" title="JavaScriptåŠ è½½é€Ÿåº¦">JavaScriptåŠ è½½é€Ÿåº¦</a></li><li><a href="/posts/JavaScriptBasics.html" title="JavaScriptåŸºç¡€">JavaScriptåŸºç¡€</a></li></ul>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">43</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">3</span></li></ul>
                <div class="webinfo">
                    <div class="webinfo-item">
                        <div class="webinfo-item-title"><i class="item-icon iconfont icon-file-text-fill"></i> æ–‡ç« æ€»æ•° :</div>
                        <div class="item-count">57 ç¯‡</div>
                    </div>
                    <div class="webinfo-item">
                        <div class="webinfo-item-title"><i class="item-icon iconfont icon-timer-fill"></i> å»ºç«™å¤©æ•° :</div>
                        <div class="item-count" id="runtimeshow"> 1024 å¤©</div>
                        <script async>
                            window.addEventListener("load", function () {
                                $id("runtimeshow").innerHTML = getDaysDiffBetweenDates('2020-08-16') + "å¤©";
                            });
                        </script>
                    </div>
                    <div class="webinfo-item">
                        <div class="webinfo-item-title"><i class="item-icon iconfont icon-text"></i> æ€»å­—æ•° :</div>
                        <div class="item-count">93.7k å­—</div>
                    </div>
                </div>
            </div>
        
    </aside>


    </main>
    
    
    
    <mark id="mask" onclick="close_all()"></mark>
    
    
<footer id="footer" style="display: none">
    <span id="backTop" onclick="document.documentElement.scrollTop = document.body.scrollTop =0">
        <i class="iconfont icon-arrow-up"></i>
    </span>
    <div class="container">
        <p class="footer-text">æ¬¢è¿ç¬¬<span id="aloeJun-pageview-count" data-path="/"><img width="14px" height="14px" src="/media/detail/loaded.svg" alt="åŠ è½½ä¸­..."></span>ä½æ¥è®¿è€…</p>
        <p class="footer-message">
            
                <a id="icp" href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">
                    è±«ICPå¤‡2020025858å·-2
                </a>
            
            
                <a id="upy" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank"
                   rel="noopener noreferrer">
                    <img width="90px" height="40px" src="/media/detail/upy.png" loading="lazy" alt="upy" title="åˆæ‹äº‘">
                </a>
            

            <a href="/atom.xml" target="_blank" title="RSSè®¢é˜…">
                <i class="iconfont icon-dingyue" style="font-size: 1.2rem"></i>
            </a>
            <a href="/cc" title="ccåè®®">
                <i class="iconfont icon-closed-captioning" style="font-size: 1.5rem"></i>
            </a>
    </div>
</footer>
    
    <section id="local-search" class="hidden">
        <div id="local-search-title">æœ¬åœ°æœç´¢ </div>
        <input id="local-search-input" autocomplete="off" placeholder="æœç´¢æ–‡ç« " type="text">
        <hr>
        <div id="local-search-result"></div>
        <span class="search-close-button" onclick="closeSearch()"><i class="iconfont icon-times-circle-fill"></i></span>
        <script async src="/js/search.js"></script>
    </section>

</div>

<div id="resource">
    
<script type="application/javascript">
    var $config = {
        
            searchFile: "/search.json",
        
        
        qrcode:{
            source_js: "/lib/qrcode/qrcode.js",
            Data:{
                render: 'canvas',
                text: 'https://www.islu.cn/posts/JavaScriptClosure.html',
                size: 100,
                correctLevel: 3,
                background: '#fff',
                image: '',
                imageSize: '120px'
            }
        },
        
        
        code_block_expand: {
            enable: true,
            height: 400,
            scrollTop: 200
        },
        
    }
</script>

    <script async type="application/javascript" src="/js/main.js"></script>
    
    <script defer type="text/javascript">
        getScript('/lib/pjax/pjax.min.js', ()=>{
            window.pjax = new Pjax({
                selectors: [
                    "head title",
                    "head meta[name='keywords']",
                    "head meta[name='description']",
                    "header p.now-path",
                    "main",
                    "span#aloeJun-pageview-count"
                ],
                cacheBust: false
            });
        });

        // å¼€å§‹ PJAX æ‰§è¡Œçš„å‡½æ•°
        document.addEventListener('pjax:send', () => {
            // æ‰§è¡Œè¿›åº¦æ¡
            
        });
        // PJAX å®Œæˆä¹‹åæ‰§è¡Œçš„å‡½æ•°ï¼Œå¯ä»¥å’Œä¸Šé¢çš„é‡è½½æ”¾åœ¨ä¸€èµ·
        document.addEventListener('pjax:complete', () => {
            // åŠ è½½è¿›åº¦æ¡åŠ è½½å®Œæ¯•
            
            // æ‰§è¡Œæ‰€æœ‰æ–¹æ³•
            exeAllFn()
        });

        document.addEventListener('pjax:success', () => {
            $queryAll('script[data-pjax]').forEach((item) => {
                const newScript = document.createElement('script')
                const content = item.text || item.textContent || item.innerHTML || ""
                Array.from(item.attributes).forEach((attr) => {
                    newScript.setAttribute(attr.name, attr.value)
                })
                newScript.appendChild(document.createTextNode(content))
                item.parentNode.replaceChild(newScript, item)
            })
        });
        // Pjaxè¯·æ±‚é”™è¯¯æ—¶ï¼Œè·³è½¬åˆ°404é¡µé¢
        document.addEventListener('pjax:error', (err) => {
            if (err.request.status === 404) {
                pjax.loadUrl('/404.html')
            }
        })
    </script>

    
    <div id="nav-music"></div>
    <script defer>
        if (document.body.clientWidth > 768) {
            window.addEventListener('load', () => {
                getCss('/lib/aplayer/APlayer.min.css')
                $id("nav-music").innerHTML = `<div id="nav-music-hoverTips" onclick="aloejun.musicToggle()">æ’­æ”¾éŸ³ä¹</div>
                <meting-js
                        id="8164170333"
                        server="netease"
                        type="playlist"
                        theme='#42b983'
                        loop='all'
                        preload='auto'
                        order='random'
                        volume='0.7'
                        data-lrctype="0"
                >
                </meting-js>`
                getScript('/lib/aplayer/APlayer.min.js', () => {
                    getScript('/lib/aplayer/Meting.min.js')
                })
            }, false)
        }
    </script>

    




    
<script async type="text/javascript">
    window.addEventListener("load", () => {
        getCss("/lib/waline/waline.css")
        // é¡µé¢åŠ è½½å®Œæ¯•åæ‰§è¡Œçš„ä»£ç 
        getScript("/lib/waline/activate-input.js", () => {
            console.log("\n %c æœ€ç¾çš„æ—…ç¨‹ %c æ˜¯ä¸æ–­çš„ç»å† \n", "color: #fadfa3; background: #030307; padding:5px 0;", "background: #fadfa3;color:#030307; padding:5px 0;")
        });
    });

</script>
<script type="module" defer data-pjax>
    import {pageviewCount} from '/lib/waline/pageview.mjs';

    pageviewCount({
        serverURL: 'https://discuss.islu.cn',
        path: window.location.pathname,
        selector: '#aloeJun-pageview-count',
        update: true
    });
</script>
</div>
</body>

</html>
